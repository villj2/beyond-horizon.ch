function getUrlVars(){for(var b,a=[],c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),d=0;d<c.length;d++)b=c[d].split("="),a.push(b[0]),a[b[0]]=b[1];return a}$(document).ready(function(){function c(){var a=new google.maps.Map(document.getElementById("map-overview"),{center:{lat:3.513421045640057,lng:116.71875},scrollwheel:!0,styles:b,zoom:4,mapTypeControl:!1,minZoom:3});google.maps.event.addListener(a,"click",function(b){var c=b.latLng.lat(),d=b.latLng.lng(),e=a.getCenter();console.log("lat: "+c+", lng: "+d+", zoom: "+a.getZoom()+", center: "+e)});for(var c=$("#container-map-posts").data("pins"),d=[],e=[],f=0;f<c.length;f++)d.push(new google.maps.Marker({map:a,position:{lat:parseFloat(c[f].lat),lng:parseFloat(c[f].lng)},title:c[f].title,icon:new google.maps.MarkerImage("/Frontend/img/location-pin.png",null,null,null,new google.maps.Size(32,32)),leWildIndex:f})),e.push(new InfoBubble({maxWidth:235,maxHeight:1==c[f].twolines?240:220,content:'<div class="infobubble" style="overflow: hidden;"><a href="'+c[f].url+'" target="_self"><img src="'+c[f].img+'" /><h2>'+c[f].title+"</h2><p>"+c[f].date+"</p></div></a>",padding:0,backgroundColor:"rgb(230,230,230)",borderRadius:0,arrowSize:10,borderWidth:0,borderColor:"#2c2c2c",closeSrc:"/Frontend/img/maps_infowindow_close.png",arrowStyle:0,leWildIndex:f})),google.maps.event.addListener(d[f],"click",function(b){for(var c=0;c<e.length;c++)e[c].close();var f=e[this.leWildIndex];f.isOpen()||f.open(a,d[this.leWildIndex])});e[e.length-1].open(a,d[d.length-1])}if($(".grid").length){$(".grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0}),masonryInitCount=0;var a=setInterval(function(){$(".grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0}),masonryInitCount++>=100&&clearInterval(a)},500)}var b=[{featureType:"water",stylers:[{color:"#ffffff"}]},{featureType:"landscape.natural.landcover",stylers:[{color:"#c0c0c0"}]},{featureType:"landscape.natural.terrain",stylers:[{color:"#c0c0c0"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{color:"#c0c0c0"},{visibility:"off"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",stylers:[{color:"#c0c0c0"}]},{featureType:"landscape",stylers:[{color:"#c0c0c0"}]},{featureType:"poi",stylers:[{color:"#c0c0c0"}]},{featureType:"road",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"labels.text",stylers:[{visibility:"off"}]},{elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#777777"}]},{featureType:"administrative.province",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#777777"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{color:"#777777"},{visibility:"simplified"}]},{featureType:"transit.line",stylers:[{visibility:"off"}]},{}];if($("#map-overview").length&&c(),$(document).delegate('*[data-toggle="lightbox"]',"click",function(a){a.preventDefault();$(this).ekkoLightbox()}),$(window).scroll(function(){$(this).scrollTop()>500?$(".scrollToTop").fadeIn():$(".scrollToTop").fadeOut()}),$(".scrollToTop").click(function(){return $("html, body").animate({scrollTop:0},500),!1}),$("area[href^=#]").on("click",function(a){var b=$(this.hash),b=b.length&&b||$("[name="+this.hash.slice(1)+"]");if(b.length){var c=b.offset().top;$("html,body").animate({scrollTop:c-140},"slow"),a.preventDefault()}}),$.inArray("scrollto",getUrlVars())>=0){var d=getUrlVars().scrollto;tOffset=$("#"+d).offset().top,$("html,body").animate({scrollTop:tOffset-140},"slow")}$("map").imageMapResize()});